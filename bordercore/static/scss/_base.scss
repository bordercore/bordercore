/* The overflow:hidden eliminates the horizontal scrollbar when
   setting the padding to 0px on the main fluid container
   https://stackoverflow.com/questions/37978307/bootstrap-container-fluid-padding/50005919
 */
.container-fluid {
  overflow: hidden;
  padding: 0;
}

/* Used on the last block in a flex column to extend to the bottom of the page */
.extend-block {
  flex: 1 0 auto;
}

/* Add this to the right-most column in a flex grid */
.right-column {
  margin-right: 1rem;
}

.card-title {
  font-size: 1.2rem;

  a {
    color: $body-color;
  }
}

.card-grid {
  margin: 0 0 $grid-margin;
  padding: 0 $grid-margin * 0.5;
}

.editable-textarea {
  display: none;
  color: $white;
  background-color: $gray-900;
}

.editable-textarea-label p:last-child {
  margin-bottom: 0;
}

.editing {
  .editable-textarea {
    display: block;
    width: 100%;
  }

  .editable-textarea-label {
    display: none;
  }
}

.burger-menu {
  width: 1.5rem;
}

[hidden] {
  display: none !important;
}

.hidden {
  display: none;
}

/* Used to hide mustached content before Vue has loaded */
[v-cloak] {
  display: none;
}

::-webkit-scrollbar {
  width: 0.7rem;
}

::-webkit-scrollbar-track {
  border-radius: 0.6rem;
}

::-webkit-scrollbar-thumb {
  border-radius: 0.6rem;
  background-color: lighten($background-color-dark, 2%);
}

::-webkit-scrollbar-thumb:hover {
  background: lighten($background-color-dark, 4%);
}

/*
   Common components
*/

.highlight-box {
  background: lighten(#10163a, 5%);
  padding: 1em;
  border-radius: 0.7rem;
}

.button-add {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  border: none;
  font: inherit;
  color: inherit;
  cursor: pointer;
  height: 2.5rem;
  width: 2.5rem;
  background-color: $info;
  border-radius: 1.5rem;
  transition: transform 250ms;

  &:hover {
    background-color: $primary;
    color: $info !important;
    transform: translateY(-0.25rem);

    .fa-plus {
      color: $white !important;
    }
  }

  &:focus {
    color: $white;
    outline: 0;
  }
}

// A more understated "add" button
.button-plus {
  border-radius: 0.25rem;
  padding: 0 0.5rem 0 0.5rem;

  &:hover {
    background-color: $button-plus-hover-background-color;
  }
}

// Disable the outline around toast close buttons when you click
// on them
button:focus {
  outline: 0;
}

/* Dropdown Menus */

.dropdown-menu.show {
  background-color: $dropdown-menu-background-color;
  border: 1px solid $gray-900;
  box-shadow: 0 0.25rem 1.5rem rgba(0, 0, 0, 0.24);
  color: $dropdown-menu-color;
}

.dropdown-item {
  color: $white;

  &:hover {
    background-color: $info;
  }
}

.dropdown-menu-user {
  cursor: pointer;
}

// The round, target point that spawns the dropdown menu below it
.dropdownmenu {
  color: $dropdown-color;
  font-size: 0.75rem;
  position: absolute;
  right: -0.5rem;
  top: -0.5rem;
  padding: 0.2rem 0.25rem 0.25rem 0.25rem;
  width: 1.6rem;
  height: 1.5rem;

  &:hover {
    background: lighten($dropdown-hover-background-color, 5%);
    border-radius: 100%;
    color: $dropdown-hover-color;
  }
}

/* CSS transition for dropdown, top to down */
.translate-fade-down-enter-active,
.translate-fade-down-leave-active {
  transition: all 250ms;
  transition-timing-function: cubic-bezier(0.53, 2, 0.36, 0.85);
}

.translate-fade-down-enter,
.translate-fade-down-leave-active {
  opacity: 0;
}

.translate-fade-down-enter,
.translate-fade-down-leave-to {
  position: absolute;
}

.translate-fade-down-enter {
  transform: translateY(-0.6rem);
}

.translate-fade-down-leave-active {
  transform: translateY(0.6rem);
}

/* Error pages */

.response-code {
  font-size: 6.25rem;
  font-weight: bold;
}

/* Login page */

.jumbotron {
  border: 0.12rem solid #fff;
  border-radius: 1.5rem;
  opacity: 0.9;
}

html.login,
body.login {
  height: 100%;
}

.list-annotation {
  color: #c76257;
  font-size: 80%;
}

.divider {
  background-color: $gray-600;
}

/*
   Tables
*/

/* Eliminate the focus effect when selecting a row or column */
.b-table tr:focus,
.b-table th:focus {
  outline: 0;
}

.table-note {
  font-size: 0.75rem;
  color: $cyan;

  p {
    margin-bottom: 0;
  }
}

table.b-table th {
  border-top: 0;
}

/* BootstrapVue table sort icon: none */
body .table.b-table > tfoot > tr > [aria-sort=none],
body .table.b-table > thead > tr > th[aria-sort=none] {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' view-box='0 0 101 101' preserveAspectRatio='none'%3e%3cpath fill='white' opacity='.3' d='M51 1l25 23 24 22H1l25-22z'/%3e%3cpath fill='white' opacity='.3' d='M51 101l25-23 24-22H1l25 22z'/%3e%3c/svg%3e") !important;
}

/* BootstrapVue table sort icon: ascending */
body .table.b-table > tfoot > tr > [aria-sort=ascending],
body .table.b-table > thead > tr > th[aria-sort=ascending] {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' view-box='0 0 101 101' preserveAspectRatio='none'%3e%3cpath fill='white' d='M51 1l25 23 24 22H1l25-22z'/%3e%3cpath fill='white' opacity='.3' d='M51 101l25-23 24-22H1l25 22z'/%3e%3c/svg%3e") !important;
}

/* BootstrapVue table sort icon: descending */
body .table.b-table > tfoot > tr > [aria-sort=descending],
body .table.b-table > thead > tr > [aria-sort=descending] {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' view-box='0 0 101 101' preserveAspectRatio='none'%3e%3cpath fill='white' opacity='.3' d='M51 1l25 23 24 22H1l25-22z'/%3e%3cpath fill='white' d='M51 101l25-23 24-22H1l25 22z'/%3e%3c/svg%3e") !important;
}

.table_header {
  border-radius: 0.25rem;
}

tr.selected {
  background-color: $selected-background-color !important;
  color: $white;
}

.selected,
.selected a,
.selected a:visited {
  background-color: $selected-background-color;
  color: $white;
}

.table-borders table,
.table-borders td {
  border: 0.06rem solid #ccc;
  padding: 0.6rem;
}

.table-borders th {
  border-bottom: 3px solid black;
  padding: 0.6rem;
}

.bold {
  font-weight: bold;
}

.alert-margin {
  margin-left: 0;
}

/* Animated buttons */

.glyphicon-refresh-animate {
  -animation: spin 0.7s infinite linear;
  -webkit-animation: spin2 0.7s infinite linear;
}

@-webkit-keyframes spin2 {
  from { -webkit-transform: rotate(0deg); }
  to { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  from { transform: scale(1) rotate(0deg); }
  to { transform: scale(1) rotate(360deg); }
}

/* Bootstrap modifications */

.breadcrumb {
  background-color: $background-color-light;
  padding-left: 1rem + 1.25rem;
}

$nav-tabs-link-active-border-color: $nav-tabs-border-color $nav-tabs-border-color $nav-tabs-link-active-bg;
$nav-tabs-link-hover-border-color: $nav-tabs-border-color;

/* Modified from bootstrap/scss/_nav.scss */
.nav-tabs {
  border-bottom: $nav-tabs-border-width solid $nav-tabs-border-color;

  .nav-link {
    border: $nav-tabs-border-width solid transparent;

    @include border-top-radius($nav-tabs-border-radius);

    @include hover-focus() {
      border-color: $nav-tabs-link-hover-border-color;
    }
  }

  .nav-link.active,
  .nav-item.show .nav-link {
    border-color: $nav-tabs-link-active-border-color;
  }
}

.card-body {
  background-color: $background-color-dark;
  border-radius: 0.4rem;
  margin: 0 0 1rem 1rem;
}

.list-group-item-secondary {
  background-color: $list-group-item-secondary;
}

.modal-content {
  background-color: $modal-background-color;
}

/* Forms */
.form-error {
  color: $yellow;
  font-weight: bold;
  margin-left: 0.6rem;
  padding-top: 0.3rem;
}

/* Used when you want to display text instead of a form field */
.form-no-input {
  padding: 0.4rem 1.25rem;
}

.input-group .highlight-changed-field {
  color: #f00;
}

.highlight-changed-field.color-transition {
  color: #495057;
  transition: 2s;
  transition-delay: 1s;
}

#id_content.foobar {
  height: 30em;
  transition: height 1s ease-out;
}

/* Markdown */

// This primarily applies to markdown generated by org-mode exported files.
//  Note the `white-space` selector to preserve newlines.

blockquote > p {
  background-color: $markdown-blockquote-background-color;
  border-left: 0.25rem solid $markdown-blockquote-border-left;
  padding: 0.5rem 0 0.5rem 0.5rem;
  white-space: pre-line;
  margin: 0.5rem;
}

pre {
  background: $markdown-background-color;
  border-top: 0.05rem solid $markdown-border-color;
  border-bottom: 0.05rem solid $markdown-border-color;
  padding: 0.3rem;
  padding-left: 0.8rem;
}

// Inline code. Exclude code in pre blocks, since
//  that is handled by highlight.js

*:not(pre) > code {
  background-color: $markdown-code-background-color;
  color: $markdown-code-color;
  padding: 0.25rem 0.5rem 0.25rem 0.5rem;
}

/* Top Title */

#top-title {
  font-size: 2rem;
  padding-left: $grid-margin;
}

/* Top Search */

#top-search {
  background-color: $background-color-dark;
  border-radius: 0.4rem;
  margin: $grid-margin $grid-margin $grid-margin $grid-margin;
}

#top-search input {
  cursor: pointer;
  width: 0.6rem;
  border-radius: 10em;
  transition: all 0.5s;
}

#top-search input:hover {
  background-color: #fff;
}

#top-search input:focus {
  width: 25rem;
  padding-left: 2rem;
  color: #000;
  background-color: #fff;
  border-color: #66cc75;
  cursor: auto;
  box-shadow: 0 0 0.3rem rgba(109, 207, 246, 0.5);
}

#top-search-filter-type {
  font-weight: bold;
  color: $cyan;
}

.top-search-object-type {
  color: $cyan;
}

.top-search-splitter {
  color: $white;
  background-color: $gray-700;
  font-size: larger;
  font-weight: bold;
  width: 100%;
  padding: 0.6rem;
  cursor: auto;
}

.top-search-suggestion {
  padding: 0.6rem;
  width: 100%;
}

.suggest-item {
  background-color: $gray-900;
}

#top-search-container {
  /* Note that we can't simply use ".suggest-item.hover", since a similar
     selector defined by vue-simple-suggest overrides it via a !important flag */
  .vue-simple-suggest.designed .suggestions .suggest-item.hover {
    background-color: $cyan !important;
  }

  /* Set the padding to zero so that we can programmatically control the background color lower down
     in the container hierarchy, based on whether an item is a divider or not.
  */
  .list-group-item {
    padding: 0;
  }

  .vue-simple-suggest.designed .suggestions {
    color: $green;
    padding: 0.3rem;
  }

  .suggest-item.hover .top-search-object-type {
    color: $light-blue;
  }
}

#top-search-form .has-search .form-control-feedback {
  left: 1rem;
}

.failed-test-count {
  color: $white;
  background-color: $info;
  border-radius: 50%;
  font-size: 0.75rem;
  font-weight: bold;
  width: 1.25rem;
  height: 1.25rem;
  line-height: 0.75rem;
  text-align: center;
}

/* Bookmarks */

.bookmark-list-date {
  text-align: right;
  vertical-align: text-bottom;
  white-space: nowrap;
}

.bookmark-list-favicon {
  vertical-align: text-bottom;
}

.bookmark-list-link {
  vertical-align: text-bottom;
}

.bookmark-tag-list-header {
  background-color: #33393e;
  color: #fff;
  text-align: center;
}

#bookmark-sidebar {
  background-color: #fff;
  position: fixed;
  overflow: hidden;
  left: -18.75rem;
  border: 0.06rem solid #999;
  height: 25rem;
  width: 18.75rem;
  z-index: 200;
  padding: 0.3rem;
  transition: all 1s ease;
}

#bookmark-sidebar.show {
  left: 1.25rem;
  transition: all 1s ease;
}

.monospaced {
  font-family: Courier, sans-serif;
}

/* The "has-search" rules provide space for a Font Awesome
  search icon inside a search input box */

/* Specifies the distance between the search icon and where
   you start typing your search query */
.has-search .form-control {
  padding-left: 2rem;
}

.has-search .form-control-feedback {
  position: absolute;
  z-index: 2;
  display: block;
  top: 0.7rem;
  left: 1.5rem;
  line-height: 2.375rem;
  text-align: center;
  pointer-events: none;
  color: #aaa;
}

.search-result {
  padding-left: 1.5rem;

  a {
    padding-left: 0.5rem;
  }
}

.search-result-important {
  background-color: $gray-700;
}

.search-todo-date {
  font-weight: normal;
  color: #c76257;
  font-size: 0.5rem;
}

.bookmark-dropdown {
  width: 2.5rem;
}

/* Blobs */

.blob-list-nav {
  background-color: $blob-list-nav;
}

.blob-list {
  .blob-content {
    height: 18.75rem;
    overflow: hidden;
    font-size: 0.25rem;
  }

  .blob-info {
    font-size: 0.6rem;
  }

  &:hover {
    background-color: $blob-list-hover-background-color;
  }
}

.nav-selected {
  border-bottom: 5px solid $blue;
}

h2#name {
  color: #6ac2f6;
}

#author {
  color: $info;
}

#blob_subtitle {
  color: $teal;
}

#tree-menu {
  background-color: $tree-menu-background-color;
  border-radius: 0.6rem;

  ul {
    padding-left: 1em;
    line-height: 1.5em;
  }
}

.hide-list-element {
  padding-left: 0;
  list-style-type: none;
}

#slide-show {
  background-color: black;
}

.slide-show {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  overflow: auto;
  object-fit: contain;
}

#blob-detail-menu {
  right: 0.5rem;
  top: 0.5rem;
}

#blob_note {
  p {
    margin-bottom: 0;
  }
}

.blob-content {
  h1 {
    color: $markdown-heading;
    font-size: 2rem;
  }

  h2 {
    color: darken($markdown-heading, 30%);
    font-size: 1.75rem;
  }

  h3 {
    color: darken($markdown-heading, 40%);
    font-size: 1.5rem;
  }

  h4 {
    color: darken($markdown-heading, 50%);
    font-size: 1.25rem;
  }

  h5 {
    color: darken($markdown-heading, 60%);
    font-size: 1rem;
  }
}

/*
   Todo
*/

.tag-list {
  a {
    color: $white;
  }

  &:hover {
    background-color: $background-color-light;
  }
}

.todo-col-manual-sorting {
  width: 6rem;
}

.todo-col-priority {
  width: 6rem;
}

.todo-col-date {
  width: 8rem;
}

.col-action {
  width: 4rem;
}

.cursor-grab {
  cursor: -webkit-grab;
  cursor: -moz-grab;
}

.filter-divider {
  background-color: #7367f0;
}

/*
    Fitness
 */

.last-active {
  width: 17rem;
}

#exercise-detail-chart {
  width: 50rem;
  height: 25rem;
}

/* Misc */

.success {
  color: $green;
}

.failure {
  color: $red;
}

#myModal #title {
  width: 18.75rem;
}

li.active a {
  color: #fff;
}

a.tag {
  &:link {
    color: white;
  }

  &:visited {
    color: white;
  }

  &:hover {
    color: white;
  }

  &:active {
    color: yellow;
  }
}

.table-borderless td,
.table-borderless th {
  border: 0;
  padding: 0.6rem;
}

.collection-sortable li {
  width: 12.5rem;
  height: 12.5rem;
}

.collection_ghost_class {
  border-left: 0;
  opacity: 0;
}

/* Search */

.search-box {
  background-color: $gray-700;
  border: 1px solid $primary;
  border-radius: 1rem;
  box-shadow: 0.75rem 0.75rem 0.5rem -0.06rem rgba(0, 0, 0, 0.54);
  font-size: 1rem;

  table th:first-child {
    padding: 0.5rem 1rem 0 1.25rem;
  }

  table th {
    font-weight: normal;
    padding: 0.5rem 1.25rem 0 0.5rem;
  }

  td {
    padding: 0.5rem;
  }
}

/* Sortable */

/* The element you've chosen to drag */
.sortable-chosen {
  background-color: $background-color-dark !important;
}

/* Disable the ghosting effect */
.sortable-ghost {
  opacity: 0 !important;
}

/* The element you're dragging */
.sortable-drag {
  background: $background-color-dark !important;
}

/*
   Node
*/

.node-list-stats {
  font-size: 0.75rem;
}

.node-name {
  color: $cyan;
}

.node-note {
  font-size: small;
}

.node-blob-menu {
  right: -0.25rem;
  top: 0.5rem;
}

.node-bookmark-menu {
  right: -0.25rem;
  top: 0.5rem;
}

/*
  Metrics
*/

.metric-test-result-popover {
  max-width: 100%;
  width: 50rem;
}

/*
  Drill
*/

#drill-pinned-tags-menu {
  right: 1rem;
  top: 1rem;
}

.favorite {
  color: #f00;
}

.progress-circle {
  circle {
    stroke: $drill-progress-circle-color;
  }

  text {
    fill: $primary;
  }
}

#modal-study {
  input.form-control {
    border-radius: 0.25rem;
    font-size: 0.8rem;
    height: calc(1.5em + 0.75rem + 8px);
  }

  #tag-name {
    width: 60%;
  }

  #study-random-count {
    width: 4rem;
  }

  #search-term {
    width: 45%;
  }
}

/*
   Music
*/

/* Audio player controls */

audio {
  outline: none;
  width: 37.5rem;
}

#audio_player audio {
  width: 25rem;
}

/* CodeMirror */

div.CodeMirror {
  color: $gray-900;
  background-color: $form-background-color;
}

div.CodeMirror-focused {
  background-color: $white;
  color: $gray-900;
}

/* Styles for vue-simple-suggest VUE typeahead component */

/* Original: https://unpkg.com/vue-simple-suggest/dist/styles.css */

.vue-simple-suggest > ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

.vue-simple-suggest.designed {
  position: relative;
}

.vue-simple-suggest.designed,
.vue-simple-suggest.designed * {
  box-sizing: border-box;
}

.vue-simple-suggest.designed.focus .input-wrapper input {
  border: 0.06rem solid #aaa;
}

.vue-simple-suggest.designed .suggestions {
  position: absolute;
  left: 0;
  right: 0;
  top: 100%;
  top: calc(100% + 0.3rem);
  border-radius: 0.18rem;
  border: 0.06rem solid #aaa;
  background-color: #fff;
  opacity: 1;
  z-index: 1000;
}

.vue-simple-suggest.designed .suggestions .suggest-item {
  background-color: $vue-simple-suggest-item-background-color;
  cursor: pointer;
  user-select: none;
}

.vue-simple-suggest.designed .suggestions .suggest-item,
.vue-simple-suggest.designed .suggestions .misc-item {
  padding: 0.3rem 0.6rem;
}

.vue-simple-suggest.designed .suggestions .suggest-item.hover {
  background-color: #2874d5 !important;
  color: #fff !important;
}

.vue-simple-suggest.designed .suggestions .suggest-item.selected {
  background-color: #2832d5;
  color: #fff;
}

/* Vue Tags Input VUE */

/* These apply Bootstrap-like styles to the tags */
.vue-tags-input .ti-input .ti-tag {
  background-color: #2fa4e7 !important;
  font-size: 75%;
  font-weight: 700;
  border-top-left-radius: 0.25rem;
  border-top-right-radius: 0.25rem;
  border-bottom-left-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
  padding: 0.3rem 0.5rem;
}

.vue-tags-input .ti-new-tag-input {
  background: transparent;
  color: #27293d;
}

.vue-tags-input .ti-input {
  background-color: $form-background-color;
  border-top-left-radius: 0.25rem;
  border-top-right-radius: 0.25rem;
  border-bottom-left-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
  padding: 0.37rem 0.75rem;
}

.vue-tags-input.ti-focus .ti-input {
  background-color: $white;

  /* Mimic Bootstrap's default focus behavior */
  border-color: lighten($primary, 25%);
  box-shadow: 0 0 0 0.2rem rgba($primary, 0.25);
}

.vue-tags-input .ti-autocomplete {
  color: $gray-900;
}

/* Use this for forms */
.vue-tags-input {
  background-color: $modal-background-color !important;
  min-width: 100%;
}

/* Use this for inputs of arbitrary length */
#tag-filter-form input {
  width: 25rem;
}

/* vuejs-datepicker */
.calendar {
  color: $black;
}

/* Stock CSS */

@import "https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700";

body {
  font-family: 'Poppins', sans-serif;
}

a:hover {
  color: $link-hover-color;
}

p {
  font-family: 'Poppins', sans-serif;
  font-size: 1.1em;
  font-weight: 300;
  line-height: 1.7em;
}

.form-control {
  background-color: $form-background-color;
}

.form-control::placeholder {
  color: $gray-600;
}

i,
span {
  display: inline-block;
}

/* Sidebar */

.sidebar-icon {
  color: #9a7ba3;
}

.wrapper {
  display: flex;
  align-items: stretch;
  padding-left: 15rem;

  &.collapsed {
    display: flex;
    align-items: stretch;
    padding-left: 3.1rem;
  }
}

.sidebar-transition {
  transition: 0.3s ease;
}

#sidebar {
  .sidebar-header {
    font-size: 2rem;
    padding: 0.6rem 0 0.6rem 0.6rem;
  }

  .sidebar-header strong {
    display: none;
    font-size: 1.8em;
  }

  .first-item {
    margin-top: 2rem;
  }
}

.v-sidebar-menu.vsm_expanded {
  max-width: 15rem !important;
}

/* CONTENT STYLE */

#content {
  width: 100%;
  min-height: 100vh;
  transition: all 0.3s;
}
